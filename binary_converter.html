<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lesson: Binary to Decimal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&family=Roboto+Mono:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Inter', sans-serif;
            background-color: #111827; /* bg-gray-900 */
            color: #d1d5db; /* text-gray-300 */
        }
        .lesson-container {
            max-width: 640px; /* sm:max-w-md md:max-w-lg lg:max-w-2xl */
            margin: 2rem auto;
            padding: 2rem;
            background-color: #1f2937; /* bg-gray-800 */
            border-radius: 0.75rem; /* rounded-xl */
            border: 1px solid #4f46e5; /* border-indigo-600 */
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }
        .foreman-sprite {
            width: 64px;
            height: 64px;
            margin-right: 1rem;
            flex-shrink: 0;
        }
        .bit-display {
            width: 80px;
            height: 80px;
            font-size: 3rem; /* text-5xl */
            font-family: 'Roboto Mono', monospace;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 0.5rem; /* rounded-lg */
            transition: all 0.3s ease-in-out;
        }
        .bit-value {
            font-size: 1.5rem; /* text-2xl */
            font-family: 'Roboto Mono', monospace;
            color: #9ca3af; /* text-gray-400 */
        }
        #decimal-input {
            background-color: #374151; /* bg-gray-700 */
            border: 2px solid #4f46e5; /* border-indigo-600 */
            color: white;
            text-align: center;
            font-size: 2rem; /* text-4xl */
            font-family: 'Roboto Mono', monospace;
            border-radius: 0.5rem; /* rounded-lg */
            width: 120px;
        }
        .btn {
            padding: 0.75rem 1.5rem;
            border-radius: 0.5rem;
            font-weight: 600; /* font-semibold */
            transition: background-color 0.2s;
            cursor: pointer;
        }
        .btn-primary {
            background-color: #4f46e5; /* bg-indigo-600 */
            color: white;
        }
        .btn-primary:hover {
            background-color: #4338ca; /* hover:bg-indigo-700 */
        }
        .btn-secondary {
            background-color: #374151; /* bg-gray-700 */
            color: white;
        }
        .btn-secondary:hover {
            background-color: #4b5563; /* hover:bg-gray-600 */
        }
        .btn-disabled {
            background-color: #4b5563; /* bg-gray-600 */
            color: #9ca3af; /* text-gray-400 */
            cursor: not-allowed;
        }
    </style>
</head>
<body>

    <div class="lesson-container">
        <!-- Header -->
        <div class="flex items-center mb-6">
            <div id="foreman-svg-container">
                <!-- SVG will be injected here -->
            </div>
            <div>
                <h1 class="text-2xl font-bold text-indigo-400">Lesson: Understanding Binary</h1>
                <p class="text-gray-400">Let's learn how to read the language of computers.</p>
            </div>
        </div>

        <!-- Instructional Text -->
        <div class="bg-gray-900 p-4 rounded-lg mb-6 min-h-[80px]">
            <p id="instruction-text" class="text-lg"></p>
        </div>

        <!-- Binary Display -->
        <div class="bg-black/50 p-6 rounded-lg mb-6">
            <h3 class="text-lg text-center font-semibold mb-4">BINARY VALUE</h3>
            <div id="binary-display-container" class="flex justify-center gap-4 md:gap-6">
                <!-- Bits will be injected here -->
            </div>
        </div>

        <!-- User Interaction Area -->
        <div class="bg-gray-700/50 p-6 rounded-lg flex flex-col items-center">
            <h3 class="text-lg font-semibold mb-4">What is the decimal total?</h3>
            <input id="decimal-input" type="number" />
            <div id="puzzle-feedback" class="h-8 mt-4 text-xl font-bold"></div>
            <div class="mt-4 flex gap-4">
                 <button id="submit-answer" class="btn btn-primary">Submit</button>
                 <button id="next-button" class="btn btn-secondary hidden">Next</button>
            </div>
        </div>

    </div>

    <script>
        // --- Foreman SVG ---
        const foremanSvg = `<svg class="foreman-sprite" viewBox="0 0 16 16"><path fill="#fde68a" d="M5,6h6v5H5V6z"/><path fill="#f97316" d="M4,4h8v2H4V4z"/><path fill="#15803d" d="M4,11h8v3H4V11z"/><path fill="#000" d="M6,7h1v1H6V7zm3,0h1v1H9V7z"/></svg>`;
        document.getElementById('foreman-svg-container').innerHTML = foremanSvg;

        // --- Lesson Data ---
        const lessonSteps = [
            {
                binary: [0, 0, 0, 1],
                answer: 1,
                text: "Let's start simple. Each switch is a 'bit'. This first bit on the right is the '1s' place. Since it's ON, the number is 1."
            },
            {
                binary: [0, 0, 1, 0],
                answer: 2,
                text: "The next bit to the left is the '2s' place. When only this bit is ON, the number is 2. See the pattern? Each place is double the one to its right."
            },
            {
                binary: [0, 1, 0, 0],
                answer: 4,
                text: "Following that pattern, the third bit is the '4s' place. Its value is 4."
            },
            {
                binary: [1, 0, 0, 0],
                answer: 8,
                text: "And the last bit on the left is the '8s' place. Its value is 8."
            },
            {
                binary: [0, 0, 1, 1],
                answer: 3,
                text: "Great! Now, what if two bits are ON? You just add their values together! The '2' bit is on, and the '1' bit is on. What is 2 + 1?"
            },
            {
                binary: [1, 1, 0, 1],
                answer: 13,
                text: "You've got it! Now for a final check. Add up all the values for the bits that are ON. (8 + 4 + 1)"
            },
            {
                binary: [1, 1, 1, 1],
                answer: 15,
                text: "Excellent work! You've learned the basics of converting binary to decimal. You can now read a 4-bit number."
            }
        ];

        // --- DOM Elements ---
        const instructionText = document.getElementById('instruction-text');
        const binaryContainer = document.getElementById('binary-display-container');
        const decimalInput = document.getElementById('decimal-input');
        const feedback = document.getElementById('puzzle-feedback');
        const submitButton = document.getElementById('submit-answer');
        const nextButton = document.getElementById('next-button');

        // --- State ---
        let currentStep = 0;

        // --- Functions ---
        function renderStep() {
            const step = lessonSteps[currentStep];
            
            // Update instruction text
            instructionText.textContent = step.text;

            // Render the binary bits
            const placeValues = [8, 4, 2, 1];
            binaryContainer.innerHTML = step.binary.map((bit, i) => `
                <div class="flex flex-col items-center">
                    <div class="bit-display ${bit === 1 ? 'bg-blue-500 text-white' : 'bg-gray-900 text-gray-600'}">${bit}</div>
                    <div class="bit-value mt-2">${placeValues[i]}</div>
                </div>
            `).join('');

            // Reset UI elements
            decimalInput.value = '';
            feedback.textContent = '';
            feedback.className = 'h-8 mt-4 text-xl font-bold';
            nextButton.classList.add('hidden');
            submitButton.classList.remove('hidden');
            decimalInput.disabled = false;
        }

        function checkAnswer() {
            const step = lessonSteps[currentStep];
            const userAnswer = parseInt(decimalInput.value);

            if (userAnswer === step.answer) {
                feedback.textContent = 'CORRECT!';
                feedback.classList.add('text-green-400');
                submitButton.classList.add('hidden');
                decimalInput.disabled = true;

                if (currentStep < lessonSteps.length - 1) {
                    nextButton.classList.remove('hidden');
                } else {
                    instructionText.textContent = "Congratulations! You've completed the lesson on binary numbers.";
                }

            } else {
                feedback.textContent = 'Not quite. Try again!';
                feedback.classList.add('text-red-400');
                decimalInput.select();
            }
        }

        function goToNextStep() {
            if (currentStep < lessonSteps.length - 1) {
                currentStep++;
                renderStep();
            }
        }

        // --- Event Listeners ---
        submitButton.addEventListener('click', checkAnswer);
        nextButton.addEventListener('click', goToNextStep);
        decimalInput.addEventListener('keydown', (e) => {
            if (e.key === 'Enter') {
                checkAnswer();
            }
        });

        // --- Initial Load ---
        renderStep();

    </script>
</body>
</html>

